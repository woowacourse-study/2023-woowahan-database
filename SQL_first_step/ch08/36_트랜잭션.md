# 목차

1. [트랜잭션](#1-트랜잭션) <br/>
2. [롤백과 커밋](#2-롤백과-커밋) <br/>
3. [트랜잭션 사용법](#3-트랜잭션-사용법) <br/>

<br/>

# 36강 - 트랜잭션

## 1. 트랜잭션

- **어떤 명령을 수행하는 과정에서 중간에 에러가 발생했을 때, 일련의 과정들을 전부 롤백시킬 수 있는 것을 말합니다.**
- **즉,  몇 단계로 나누어 SQL 명령을 실행하는 경우에 트랜잭션을 자주 사용하게 됩니다.**
  - INSERT가 1번이 아닌 여러 테이블에 2번, 3번을 해야하는 경우에 필요합니다.

<br/>

## 2. 롤백과 커밋

- **트랜잭션을 롤백하면 변경한 내용이 적용되지 않습니다.**
- **명령 수행 과정에서 아무런 에러가 발생하지 않는다면, 커밋을 사용하여 변경사항을 적용하고 트랜잭션을 종료합니다.**

트랜잭션을 사용해서 데이터를 추가한다면, 에러가 발생해도 트랜잭션을 롤백해서 종료할 수 있습니다. 

<br/>

### 1) 자동 커밋

그래서 트랜잭션을 사용할 땐, 자동커밋을 꺼야 합니다. mysql 클라이언트에서 명령을 실행할 땐 암묵적으로 자동커밋 상태로 되어있기 때문입니다.

- **START TRANSACTION** : 자동커밋을 끄기 위해 명시적으로 트랜잭션의 시작을 알리는 명령입니다.

<br/>

트랜잭션을 종료하는 방법은 2가지가 있습니다.

1. 변경된 내용을 적용한 후 종료하는 **'커밋'**
   - **COMMIT** : 커밋 명령어
2. 변경된 내용을 적용하지 않고 종료하는 **'롤백'**
   - **ROLLBACK** : 롤백 명령어

<br/>

## 3. 트랜잭션 사용법

- **세트로 실행하고 싶은 SQL 명령은 트랜잭션 내에서 실행한다.**
  - 즉, 하나의 명령에 트랜잭션을 걸어 실행하는 것은 별 의미가 없습니다.

트랜잭션 내에서 실행하는 복수의 SQL 명령은 세트 단위로 유효/무효가 됩니다. 즉, 반드시 세트로 실행하고 싶은 SQL 명령을 트랜잭션 하나로 묶어서 실행하는 것입니다.

