# 목차

1. [LIKE 패턴 매칭하기](#1-like-패턴-매칭하기) <br/>
2. [LIKE로 %, _ 를 검색하기](#2-like로--_-를-검색하기) <br/>
3. [문자열 상수 ' 의 이스케이프](#3-문자열-상수--의-이스케이프) <br/>

<br/>

# 8강 - 패턴 매칭에 의한 검색

- **'LIKE'** 술어를 사용하면 **문자열의 일부분을 비교하는 '부분 검색'** 을 할 수 있습니다.
- 사용법 : **컬럼명 LIKE 패턴**
  - **해당 컬럼이 패턴에 속한다면 참**이라는 명령입니다.


<br/>

## 1. LIKE 패턴 매칭하기

패턴을 정의할 때는 **'메타문자'** 를 사용할 수 있습니다.

1. **퍼센트(%)** : 임의의 문자열(빈 문자열 포함)을 의미합니다.
2. **언더스코어(_)** : 임의의 문자 하나를 의미합니다.

패턴을 정의할 때는 메타문자를 여러 개 사용할 수 있습니다.

<br/>

이제 예제를 간단히 만들어봅시다.

| no   | name   | description       |
| ---- | ------ | ----------------- |
| 1    | 손흥민 | 프로축구선수이다. |
| 2    | 김연아 | 피겨선수          |
| 3    | 손연재 | 선수              |
| 4    | 페이커 | 프로게이머%       |

설명을 돕기 위해 손연재의 description은 선수 라고만 설정합니다.

먼저 퍼센트(%) 부터 살펴봅시다.

1. SELECT * FROM smaple **WHERE description LIKE '%선수';**

   - **description 문자열의 마지막 글자가 '선수'라면 참** 이라는 뜻입니다.

   - **명령 결과)**

   - | no   | name   | description |
     | ---- | ------ | ----------- |
     | 2    | 김연아 | 피겨선수    |
     | 3    | 손연재 | 선수        |

   - 여기서 손흥민이 나오지 않은 이유는, **선수라는 글자로 끝나지 않기 때문입니다.**<br/>

2. SELECT * FROM smaple **WHERE description LIKE '선수%';**

   - **description 문자열의 첫 글자가 '선수'라면 참** 이라는 뜻입니다.

   - **명령 결과)**

   - | no   | name   | description |
     | ---- | ------ | ----------- |
     | 3    | 손연재 | 선수        |

   - 첫 글자가 '선수'인 행은 손연재밖에 없습니다.<br/>

3. SELECT * FROM smaple **WHERE description LIKE '%선수%';**

   - **description 문자열에 '선수'라는 글자가 포함되어있으면 참** 이라는 뜻입니다.

   - **명령 결과)**

   - | no   | name   | description       |
     | ---- | ------ | ----------------- |
     | 1    | 손흥민 | 프로축구선수이다. |
     | 2    | 김연아 | 피겨선수          |
     | 3    | 손연재 | 선수              |

     <br/>

이제 **언더스코어(_)** 도 가볍게 살펴봅시다. 이 메타문자는 **글자의 개수가 같아야 하기 때문에** 더 이해하기 쉽습니다.

- SELECT * FROM smaple **WHERE description LIKE '__선수';**

  - 언더스코어가 선수라는 글자 앞에 2개가 붙어있는 상황입니다.

  - 즉, **description 문자열이 'OO선수'라면 참** 이라는 뜻입니다.

  - **명령 결과)**

  - | no   | name   | description |
    | ---- | ------ | ----------- |
    | 2    | 김연아 | 피겨선수    |

<br/>

## 2. LIKE로 %, _ 를 검색하기

먼저 위의 예시 테이블을 다시 가져와봅시다.

| no   | name   | description       |
| ---- | ------ | ----------------- |
| 1    | 손흥민 | 프로축구선수이다. |
| 2    | 김연아 | 피겨선수          |
| 3    | 손연재 | 선수              |
| 4    | 페이커 | 프로게이머%       |

4번째 행의 description을 보면 퍼센트(%) 가 존재합니다. 저 퍼센트 자체를 검색하는 방법을 알아봅시다. 그러려면 **'이스케이프'** 방법을 알아야합니다. 이스케이프는 **'역 슬래쉬(\\)'** 를 통해 할 수 있습니다.

<br/>

- SELECT * FROM sample **WHERE description LIKE '%\\%'**

  - 여기서 알아야 할 부분은 역 슬래쉬(\\)를 퍼센트(%) 앞에 붙임으로써, **메타문자 퍼센트(%)를 메타문자 역할에서 이스케이프(탈출) 하게 하고, 문자 그 자체로 돌아가게 합니다.**

    - **\% => % 문자 그 자체**

  - 즉, 이 명령의 의미는 **'맨 마지막 글자가 퍼센트(%) 이면 참'** 이라는 뜻입니다.

  - | no   | name   | description |
    | ---- | ------ | ----------- |
    | 4    | 페이커 | 프로게이머% |

  - 이는 **언더스코어(_)에도 동일하게 적용되는 사항**입니다.

<br/>

## 3. 문자열 상수 ' 의 이스케이프

그렇다면 싱글 쿼터(')는 어떻게 이스케이프를 할 수 있을까?? 메타문자처럼 역 슬래쉬를 이용하면 될까?? 싱글 쿼터의 이스케이프는 역 슬래쉬가 아닌 **같은 싱글 쿼터를 이용해서 이스케이프 할 수 있습니다.**

먼저 이해를 돕기 위해 예시 테이블을 다시 만들어봅시다.

| no   | name   | description       |
| ---- | ------ | ----------------- |
| 1    | 손흥민 | 프로축구선수이다. |
| 2    | 김연아 | 피겨선수          |
| 3    | 손연재 | 선수              |
| 4    | 페이커 | 프로게이머'       |

4번째 행의 description 문자열의 끝이 싱글 쿼터(') 로 끝납니다. 이를 검색해봅시다.

- SELECT * FROM sample **WHERE description LIKE '%'''**

  - **'맨 마지막 글자가 싱글 쿼터(')면 참'** 이라는 뜻입니다.

  - **명령 결과)**

  - | no   | name   | description |
    | ---- | ------ | ----------- |
    | 4    | 페이커 | 프로게이머' |
