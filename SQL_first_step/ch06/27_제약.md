# 테이블 작성시 제약 정의
테이블 제약(Constraint)은 데이터베이스에서 테이블에 저장된 데이터의 무결성과 일관성을 유지하기 위해 정의하는 규칙이다. 
테이블 제약은 데이터의 입력, 수정, 삭제 시에도 적용되며, 데이터베이스 시스템은 이러한 제약을 위반하는 작업을 막는다.

일반적으로, 데이터베이스에서 사용되는 제약에는 다음과 같은 것들이 있다.

* **PrimaryKey**: 하나의 테이블에서 **기본키(Primary Key)**는 유일한 값을 가지며, null 값이 포함될 수 없다.
* **Foreign Key**: 다른 테이블의 기본키와 연결되는 **외래키(Foreign Key)**가 있을 때, 이 외래키 값은 해당하는 기본키의 값과 일치해야 한다.
* **Not Null**: 열(Column)에서 **null 값**을 허용하지 않는다.
* **Unique**: 열에서 중복 값을 허용하지 않는다.
* **Check**: 열에 저장되는 값이 특정 조건을 만족해야 한다.

이 외에도 데이터베이스에서 사용되는 다양한 제약들이 있다. 
이러한 제약들을 통해 데이터의 무결성과 일관성을 유지할 수 있으며, 데이터베이스 시스템에서 자동으로 관리되므로 개발자가 일일이 검사하거나 처리할 필요가 없어진다.

# 제약 추가
## CREATE TABLE 문 사용
CREATE TABLE 문을 사용하여 테이블을 생성할 때, 다음과 같은 구문으로 제약을 추가할 수 있다.
```sql
CREATE TABLE 테이블명 (
열1 자료형 [제약조건],
열2 자료형 [제약조건],
...
);
```
위 문법에서, "제약조건"은 열(Column)에 적용할 제약 조건이다. 예를 들어, NOT NULL 제약을 추가하려면 다음과 같이 작성할 수 있다.

```sql
CREATE TABLE USER (
ID INT NOT NULL,
NAME VARCHAR(50) NOT NULL
);
```

## ALTER TABLE 문 사용
ALTER TABLE 문을 사용하여 이미 생성된 테이블에 제약을 추가할 수 있다. 다음은 PRIMARY KEY 제약을 추가하는 예시다.
```sql
ALTER TABLE 테이블명 ADD CONSTRAINT 제약이름 PRIMARY KEY (열);
```
위 문법에서, "제약이름"은 새로 추가하려는 제약의 이름을, "열"은 **PRIMARY KEY**로 설정하려는 **열(Column)**의 이름을 나타낸다.

# 제약 삭제
데이터베이스에서 테이블 제약을 삭제하는 방법은 다음과 같다.

## ALTER TABLE 문 사용
ALTER TABLE 문을 사용하여 테이블 제약을 삭제할 수 있다. 다음은 PRIMARY KEY 제약을 삭제하는 예시다.
```sql
ALTER TABLE 테이블명 DROP CONSTRAINT 제약이름;
```
위 문법에서, "테이블명"은 제약을 삭제하려는 테이블 이름을, "제약이름"은 삭제하려는 제약의 이름을 나타낸다.

# 기본키(Primary Key)
기본키(Primary Key)는 데이터베이스 테이블에서 각 행(row)을 유일하게 식별할 수 있는 열(column) 또는 열의 조합으로, 중복되지 않는 값이어야 한다. 
즉, 기본키는 테이블 내에서 각각의 행을 구분할 수 있는 **식별자(identifier)** 역할을 수행한다.

기본키는 다음과 같은 특징을 갖는다.

* **유일성**: 각 행은 기본키 값이 서로 **중복되지 않아야** 한다.
* **불변성**: 기본키 값은 **수정되지 않아야** 한다.
* **최소성**: 기본키를 구성하는 열의 수는 **최소한**이어야 한다. 
기본키를 사용하면 데이터베이스 시스템은 기본키의 **유일성을 보장**하며, 빠르고 효율적인 데이터 검색이 가능해진다.(인덱스의 특성) 
* 또한, 다른 테이블과의 관계를 정의할 때 기본키를 사용하여 FOREIGN KEY(외래키)를 지정할 수 있다.

기본키는 보통 테이블 생성 시 열에 PRIMARY KEY 제약 조건을 설정하여 정의한다. 예를 들어, 다음과 같이 회원 테이블의 ID 열을 기본키로 설정할 수 있다.
```sql
CREATE TABLE USER (
ID INT PRIMARY KEY,
NAME VARCHAR(50),
AGE INT,
...
);
```
또는 이미 생성된 테이블에서 ALTER TABLE 문을 사용하여 기본키를 추가할 수도 있다.

```sql
ALTER TABLE USER ADD CONSTRAINT PK_USER PRIMARY KEY (ID);
```
위 예시에서 "PK_회원"은 새로운 기본키 제약 조건의 이름이다.

# 복합키(Composite Key)
복합키(Composite Key)는 데이터베이스 테이블에서 한 개 이상의 열(column)을 조합하여 기본키로 사용하는 것을 말한다. 
즉, **두 개 이상의 열을 합쳐서 유일하게 식별할 수 있는 값으로 사용하는 것이다.**
이 때, 복합키로 사용되는 열들은 **개별적으로는 유일하지 않아도 된다.** 하지만 복합키를 구성하는 **열들의 조합은 유일해야 한다.**

예를 들어, 학생 정보를 저장하는 데이터베이스에서 학번과 수강년도를 조합하여 기본키로 사용할 수 있다. 
이 경우, 학번과 수강년도 각각은 유일하지 않을 수 있지만, 두 열을 조합한 학번과 수강년도의 조합은 유일하게 식별할 수 있다.

복합키는 다음과 같은 특징을 갖는다.

* **유일성**: 복합키를 구성하는 열의 조합은 서로 중복되지 않아야 한다.
* **불변성**: 복합키를 구성하는 각 열의 값은 수정되지 않아야 한다.
* **최소성**: 복합키를 구성하는 열의 수는 최소한이어야 한다.
복합키는 보통 테이블 생성 시 열에 PRIMARY KEY 제약 조건을 설정하여 정의한다. 
* 예를 들어, 다음과 같이 수강 테이블의 학번과 수강년도 열을 복합키로 설정할 수 있다.

```sql
CREATE TABLE 수강 (
학번 INT,
과목 VARCHAR(50),
수강년도 INT,
PRIMARY KEY (학번, 수강년도)
);
```

복합키는 특정 열의 값만으로는 유일하게 식별할 수 없는 경우에 사용된다. 
또한, 다른 테이블과의 관계를 정의할 때 FOREIGN KEY(외래키)를 지정할 때 복합키를 사용하여 관계를 지정할 수도 있다.